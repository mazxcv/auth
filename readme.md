#SSO

включает в себя 3 компонента 
 - auth, 
 - permission, 
 - user info 

 AUTH: аутентификация и авторизация 
 пользователь обращается в auth И получит токен 

 в токен можно положить дополнительную информацию о пользователе, при этом валидация сообщения кладется на JWT
 открытый формат передачи - кодирование, фактически сериализация 
 подпись создается на sso 
 прочесть могут все, но поменять нельзя 


 

Слои

 Transport, отвечает за связь с внешним миром и является gRPC Service 
 Service    Бизнес-логика и сервис Auth  + Permissions + EventSender 
 Data       SQLite 
 App        Run(), Stop(), Gracefull Shutdown, Healthchecks 

1) Разработка контракта, сервер, клиент, данные, ответы 
Protobuf позволит сгенерировать код на go 

Работа с protoc 
указать папку с фалами 
путь до файла с протоколом который хотим скомпилировать 
куда сохраняются сгенерированные файлы 
технические данные - сгенерированные файлы будут использовать тот же пакет, что и протофайлы исходные 
куда складывать сгенерированный grpc код 
технические данные для grpc кода 
protoc -I proto proto/sso/sso.proto --go_out=./gen/go/ --go_opt=paths=source_relative --go-grpc_out=./gen/go/ --go-grpc_opt=paths=source_relative

